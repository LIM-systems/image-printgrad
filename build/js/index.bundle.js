!function(){"use strict";const e=window.location.pathname;let t=!1;const s=document.querySelector(".page");let r=0,o=!0,n=!1,a=!0;const i=document.querySelector(".main_menu"),l=document.querySelectorAll(".inslider");let d=!1;const c=[],u=document.querySelectorAll(".mini-swiper"),p=document.querySelectorAll(".more-info");let m=0;const y=document.querySelector(".menu__wrapper"),_=document.querySelectorAll(".menu__link"),f=document.querySelector(".nav-back-button");let v=0;const h=document.querySelectorAll(".more-info-next__button"),b=document.querySelector(".footer"),L=(e,t)=>{t.classList.contains("_free")&&(t.classList.remove("_free"),e.params.freeMode.enabled=!1);for(let s=0;s<e.slides.length-1;s++){const r=e.slides[s].querySelector(".screen__content");if(r&&r.offsetHeight>window.innerHeight){t.classList.add("_free"),e.params.freeMode.enabled=!0;break}}},g=e=>{const t=e.mainSlider,s=e.inslider,r=e.insliderElem,o=e.moreInfoButton,n=e.index,a=r.querySelector(".inslider__wrapper"),l=o.querySelector(".more-info__title"),c=o.querySelectorAll(".more-info__button");let u=0;const p=(m=c[1],function(e){d||((e,t)=>{t.style.position="absolute",t.style.marginTop="0px";let r=e.offsetX-t.offsetWidth/2,o=e.offsetY-t.offsetHeight/2;var n;t.style.left=r+"px",t.style.top=o+"px",t.classList.remove("_hide-more-info__button"),(n=r)<=0||o<=0?(l.classList.remove("_hide-more-info__title"),c[0].classList.remove("_hide-more-info__button"),c[1].classList.add("_hide-more-info__button")):(l.classList.add("_hide-more-info__title"),c[0].classList.add("_hide-more-info__button")),n>0&&(u=-Math.trunc(.092*n),s.translateTo(u,300))})(e,m)});var m;o.addEventListener("mouseover",(()=>{o.addEventListener("mousemove",p)})),o.addEventListener("mouseout",(()=>{d||s.translateTo(0,500),o.removeEventListener("mousemove",p)})),o.addEventListener("click",(()=>{i.classList.add("_hide_main_menu"),v=n,d=!0,o.classList.add("more-info-hidden"),u=0,t.disable(),s.enable();let e=window.innerWidth/6*5;const l=r.querySelectorAll(".i-s_screen"),c=r.querySelector(".i-s_screen:nth-child(2)"),p=S(c,!1);let m=0;l.forEach((e=>{m+=e.clientWidth}));let y=e/m;s.setProgress(y,1e3),f.classList.remove("nav-back-button-hidden"),setTimeout((()=>{a.classList.add("inslider__wrapper-open"),S(c,p)}),500)}))};window.addEventListener("load",(()=>{t=window.innerWidth<=850,setTimeout((()=>{new Typed(".typed-text-1",{strings:["преумножить уровень доходов","перейти на новый уровень сервиса","достичь успеха в развитии бизнеса"],typeSpeed:50,backSpeed:30,loop:!0})}),300),setTimeout((()=>{new Typed(".typed-text-2",{strings:["удобно","легко","надежно","выгодно"],typeSpeed:80,backSpeed:50,loop:!0})}),300)}));const w=(e,t=null)=>{const s=e.querySelectorAll("*"),r=[];if(!t)return s.forEach((e=>{const t=e.attributes,s=[];for(let r=0;r<t.length;r++)t[r].name.startsWith("data-swiper-parallax")&&(s.push({name:t[r].name,value:t[r].value}),e.setAttribute(t[r].name,0));s.length>0&&r.push({element:e,attributes:s})})),r;t.forEach((e=>{e.attributes.forEach((t=>{e.element.setAttribute(t.name,t.value)}))}))};function S(e,t=!1){if(null===t)return;const s=e.querySelectorAll("*"),r=[];if(!t)return s.forEach((e=>{const t=e.attributes;for(let s=0;s<t.length;s++)t[s].name.startsWith("data-swiper-parallax")&&(e.classList.add("toggle-parallax-transition"),r.push(e))})),0===r.length?null:r;t.forEach((e=>{e.classList.remove("toggle-parallax-transition")}))}const E=document.querySelectorAll(".menu__link"),q=()=>{let e=document.querySelector(".menu__link._active");e&&e.classList.remove("_active")};function T(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function A(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((s=>{void 0===e[s]?e[s]=t[s]:T(t[s])&&T(e[s])&&Object.keys(t[s]).length>0&&A(e[s],t[s])}))}const x={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function k(){const e="undefined"!=typeof document?document:{};return A(e,x),e}function O(e){let t,s,{swiper:r,extendParams:o,on:n,emit:a,params:i}=e;r.autoplay={running:!1,paused:!1,timeLeft:0},o({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,d,c,u,p,m,y,_,f=i&&i.autoplay?i.autoplay.delay:3e3,v=i&&i.autoplay?i.autoplay.delay:3e3,h=(new Date).getTime();function b(e){r&&!r.destroyed&&r.wrapperEl&&e.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",b),_||q())}const L=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?d=!0:d&&(v=l,d=!1);const e=r.autoplay.paused?l:h+v-(new Date).getTime();r.autoplay.timeLeft=e,a("autoplayTimeLeft",e,e/f),s=requestAnimationFrame((()=>{L()}))},g=e=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(s),L();let o=void 0===e?r.params.autoplay.delay:e;f=r.params.autoplay.delay,v=r.params.autoplay.delay;const n=(()=>{let e;if(e=r.virtual&&r.params.virtual.enabled?r.slides.filter((e=>e.classList.contains("swiper-slide-active")))[0]:r.slides[r.activeIndex],e)return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(n)&&n>0&&void 0===e&&(o=n,f=n,v=n),l=o;const i=r.params.speed,d=()=>{r&&!r.destroyed&&(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(i,!0,!0),a("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,i,!0,!0),a("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(i,!0,!0),a("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,i,!0,!0),a("autoplay")),r.params.cssMode&&(h=(new Date).getTime(),requestAnimationFrame((()=>{g()}))))};return o>0?(clearTimeout(t),t=setTimeout((()=>{d()}),o)):requestAnimationFrame((()=>{d()})),o},w=()=>{h=(new Date).getTime(),r.autoplay.running=!0,g(),a("autoplayStart")},S=()=>{r.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(s),a("autoplayStop")},E=(e,s)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(t),e||(y=!0);const o=()=>{a("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",b):q()};if(r.autoplay.paused=!0,s)return m&&(l=r.params.autoplay.delay),m=!1,void o();const n=l||r.params.autoplay.delay;l=n-((new Date).getTime()-h),r.isEnd&&l<0&&!r.params.loop||(l<0&&(l=0),o())},q=()=>{r.isEnd&&l<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(h=(new Date).getTime(),y?(y=!1,g(l)):g(),r.autoplay.paused=!1,a("autoplayResume"))},T=()=>{if(r.destroyed||!r.autoplay.running)return;const e=k();"hidden"===e.visibilityState&&(y=!0,E(!0)),"visible"===e.visibilityState&&q()},A=e=>{"mouse"===e.pointerType&&(y=!0,_=!0,r.animating||r.autoplay.paused||E(!0))},x=e=>{"mouse"===e.pointerType&&(_=!1,r.autoplay.paused&&q())};n("init",(()=>{r.params.autoplay.enabled&&(r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",A),r.el.addEventListener("pointerleave",x)),k().addEventListener("visibilitychange",T),w())})),n("destroy",(()=>{r.el.removeEventListener("pointerenter",A),r.el.removeEventListener("pointerleave",x),k().removeEventListener("visibilitychange",T),r.autoplay.running&&S()})),n("_freeModeStaticRelease",(()=>{(u||y)&&q()})),n("_freeModeNoMomentumRelease",(()=>{r.params.autoplay.disableOnInteraction?S():E(!0,!0)})),n("beforeTransitionStart",((e,t,s)=>{!r.destroyed&&r.autoplay.running&&(s||!r.params.autoplay.disableOnInteraction?E(!0,!0):S())})),n("sliderFirstMove",(()=>{!r.destroyed&&r.autoplay.running&&(r.params.autoplay.disableOnInteraction?S():(c=!0,u=!1,y=!1,p=setTimeout((()=>{y=!0,u=!0,E(!0)}),200)))})),n("touchEnd",(()=>{if(!r.destroyed&&r.autoplay.running&&c){if(clearTimeout(p),clearTimeout(t),r.params.autoplay.disableOnInteraction)return u=!1,void(c=!1);u&&r.params.cssMode&&q(),u=!1,c=!1}})),n("slideChange",(()=>{!r.destroyed&&r.autoplay.running&&(m=!0)})),Object.assign(r.autoplay,{start:w,stop:S,pause:E,resume:q})}y.addEventListener("mouseover",(()=>{y.classList.add("nav-menu_show-bg"),_.forEach((e=>e.classList.add("nav-menu_show-link")))})),y.addEventListener("mouseout",(()=>{y.classList.remove("nav-menu_show-bg"),_.forEach((e=>e.classList.remove("nav-menu_show-link")))})),(()=>{const e=document.querySelector(".wrapper"),t=document.querySelectorAll(".screen__content");let _=null;const S=new Swiper(".page",{wrapperClass:"page__wrapper",slideClass:"page__screen",direction:"vertical",slidesPerView:"auto",parallax:!0,mousewheel:{sensitivity:.3},watchOverflow:!0,speed:900,observer:!0,observeParents:!0,observeSlideChildren:!0,init:!1,on:{init:()=>{(e=>{if(E.length>0){E[e.realIndex].classList.add("_active");for(let t=0;t<E.length;t++){const s=E[t];s.addEventListener("click",(r=>{if(r.preventDefault(),!e.enabled){const t=w(l[v]);m=0,c[v].disable(),e.enable(),setTimeout((()=>{l[v].querySelector(".inslider__wrapper").classList.remove("inslider__wrapper-open");const e=p[v].querySelector(".more-info__title"),s=p[v].querySelectorAll(".more-info__button");c[v].setProgress(0,0),f.classList.add("nav-back-button-hidden"),p[v].classList.remove("more-info-hidden"),e.classList.remove("_hide-more-info__title"),s[0].classList.remove("_hide-more-info__button"),s[1].classList.add("_hide-more-info__button"),d=!1,w(l[v],t)}),1e3)}q(),e.slideTo(t,800),s.classList.add("_active")}))}}})(S),L(S,e),_=((e,t)=>{const s=document.querySelector(".wrapper"),r=document.querySelector(".subslider"),l=document.querySelector(".toggle-scroll");let c=0;const u=new Swiper(".subslider",{wrapperClass:"subslider__wrapper",slideClass:"subslider__screen",direction:"vertical",slidesPerView:"auto",parallax:!0,mousewheel:{sensitivity:1},watchOverflow:!0,speed:900,observer:!0,observeParents:!0,observeSlideChildren:!0,freeMode:{enabled:!0},on:{progress:(e,t)=>{c=t}}});return l.addEventListener("wheel",(e=>{e.preventDefault()}),{passive:!1}),s.addEventListener("wheel",(s=>{let u=-(100*Math.round(window.innerHeight/100)+100),p=u/7*-1;if(a&&!d)if(1===c&&u<r.offsetTop&&r.offsetTop<=0&&s.deltaY>0){let e=u/7*4,o=u/7*2;if(r.offsetTop<=e)return r.style.transition="all 0.5s",r.style.top=u+"px",l.style.transition="all 0.5s",l.style.top=u+"px",void s.preventDefault();r.offsetTop<=o&&(t.classList.remove("_hide_page"),y.classList.remove("_hide_menu")),r.classList.remove("_suslider-top-0"),l.classList.remove("_suslider-top-0"),l.style.display="block",r.style.top=r.offsetTop-p+"px",l.style.top=l.offsetTop-p+"px"}else 1===c&&r.offsetTop<=-p&&s.deltaY<0&&(2*-p<=r.offsetTop&&r.offsetTop<=-p?(r.style.top="0px",l.style.top="0px",r.classList.add("_suslider-top-0"),l.classList.add("_suslider-top-0"),setTimeout((()=>{l.style.display="none",t.classList.add("_hide_page"),y.classList.add("_hide_menu"),s.preventDefault()}),500)):(r.style.transition="none",l.style.transition="none",l.style.display="block"),r.style.top=r.offsetTop+p+"px",l.style.top=l.offsetTop+p+"px");const m=i.querySelectorAll("a");0===c?Array.from(m).forEach((e=>e.classList.remove("main_menu_in-down"))):Array.from(m).forEach((e=>e.classList.add("main_menu_in-down"))),u>=r.offsetTop&&!d&&o&&!n?e.enable():e.disable()}),{passive:!1}),u})(S,t[0]),(e=>{f.addEventListener("click",(()=>{i.classList.remove("_hide_main_menu");const t=l[v].querySelector(".inslider__wrapper"),s=p[v].querySelector(".more-info__title"),r=p[v].querySelectorAll(".more-info__button");t.classList.remove("inslider__wrapper-open"),c[v].disable(),c[v].setProgress(0,800),setTimeout((()=>{f.classList.add("nav-back-button-hidden"),p[v].classList.remove("more-info-hidden"),s.classList.remove("_hide-more-info__title"),r[0].classList.remove("_hide-more-info__button"),r[1].classList.add("_hide-more-info__button"),e.enable(),d=!1}),1e3)}))})(S),u&&Array.from(u).forEach((e=>{return t="."+e.classList[1],void new Swiper(t,{direction:"vertical",slidesPerView:"auto",mousewheel:!1,speed:900,modules:[O],autoplay:{delay:500},loop:!0});var t})),(e=>{Array.from(h).forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const s=w(l[v]);m=0,c[v].disable(),e.enable(),setTimeout((()=>{l[v].querySelector(".inslider__wrapper").classList.remove("inslider__wrapper-open");const e=p[v].querySelector(".more-info__title"),t=p[v].querySelectorAll(".more-info__button");c[v].setProgress(0,0),f.classList.add("nav-back-button-hidden"),p[v].classList.remove("more-info-hidden"),e.classList.remove("_hide-more-info__title"),t[0].classList.remove("_hide-more-info__button"),t[1].classList.add("_hide-more-info__button"),d=!1,w(l[v],s)}),1e3),e.slideNext(800)}))}))})(S),(e=>{document.addEventListener("wheel",(t=>{const r=s.querySelectorAll(".screen__content")[e.slides.length-1],a=s.querySelectorAll(".screen")[e.slides.length-1],i=r.getBoundingClientRect().bottom<=window.innerHeight;if(t.deltaY>0&&i&&o){y.classList.add("_hide_menu"),n=!0,e.disable();let t=a.clientHeight-s.clientHeight;const r=a.clientHeight-window.innerHeight+b.clientHeight-t;a.style.top=-t+"px",s.style.overflow="visible",s.style.top=-r+"px"}else t.deltaY<0&&i&&o&&(s.style.top="0px",y.classList.remove("_hide_menu"),setTimeout((()=>{s.style.overflow="hidden",n=!1,e.enable()}),500));e.realIndex===e.slides.length-2?(a.style.transition="all 0.3s",a.style.top="0px"):a.style.transition="none"}))})(S),e.classList.add("_loaded"),Array.from(l).forEach(((e,t)=>{c.push(((e,t)=>{const s=new Swiper(".inslider_"+t,{wrapperClass:"inslider__wrapper",slideClass:"inslider__screen",direction:"horizontal",slidesPerView:"auto",parallax:!0,mousewheel:{thresholdTime:5,thresholdDelta:5,releaseOnEdges:!0,sensitivity:2},watchOverflow:!0,speed:900,observer:!0,observeSlideChildren:!0,freeMode:{enabled:!0},on:{slideChange:()=>{},progress:(e,t)=>{m=t},scroll:(s,r)=>{if(0===m&&d&&r.deltaY<0){i.classList.remove("_hide_main_menu");const r=l[t].querySelector(".inslider__wrapper"),o=p[t].querySelector(".more-info__title"),n=p[t].querySelectorAll(".more-info__button");setTimeout((()=>{f.classList.add("nav-back-button-hidden"),e.enable(),s.disable(),r.classList.remove("inslider__wrapper-open"),p[t].classList.remove("more-info-hidden"),o.classList.remove("_hide-more-info__title"),n[0].classList.remove("_hide-more-info__button"),n[1].classList.add("_hide-more-info__button"),d=!1}),800)}}}});return s.disable(),s})(S,t))})),Array.from(p).forEach(((e,t)=>{const s={mainSlider:S,inslider:c[t],insliderElem:l[t],moreInfoButton:e,index:t};g(s)})),(e=>{const t=document.querySelector(".geography-cities");t&&(t.addEventListener("mouseover",(t=>{t.preventDefault(),o=!1,e.disable()})),t.addEventListener("mouseout",(t=>{o=!0,n||e.enable()})))})(S)},slideChange:()=>{q(),E[S.realIndex].classList.add("_active"),Array.from(p).forEach(((e,t)=>{const s=e.querySelector(".more-info__title"),r=e.querySelectorAll(".more-info__button");s.classList.remove("_hide-more-info__title"),r[0].classList.remove("_hide-more-info__button"),r[1].classList.add("_hide-more-info__button")}))},resize:()=>{L(S,e),window.innerWidth<=850&&(e=>{e.params.freeMode.enabled=!0,Array.from(l).forEach((e=>{e.classList.add("hidden-inslider")}))})(S)},progress:(e,t)=>{r=t,0===t&&e.params.freeMode.enabled?setTimeout((()=>a=!0),100):0!==t&&e.params.freeMode.enabled&&(a=!1),0===e.progress?setTimeout((()=>a=!0),800):a=!1}}});S.init()})(),(()=>{const e=document.querySelector(".mobile_main_menu"),t=document.querySelector(".main_menu-burger"),s=document.querySelector(".main_menu-burger-close");t.addEventListener("click",(()=>{e.classList.remove("_hide_mobile_menu")})),s.addEventListener("click",(()=>{e.classList.add("_hide_mobile_menu")}))})(),"/"===e&&(()=>{const e=document.querySelector(".geography-map"),t=document.querySelector(".geography-cities").querySelectorAll("p");Array.from(t).forEach((s=>{s.addEventListener("click",(s=>{s.preventDefault();const r=s.target.id;e.style.background=`url('../../img/map/${r}.png')`,e.style.backgroundSize="contain",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center right",Array.from(t).forEach((e=>{e.classList.remove("clicked-geography-city")})),s.target.classList.add("clicked-geography-city")}))}))})()}();