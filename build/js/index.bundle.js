!function(){"use strict";const e=window.location.pathname;let t;const r=document.querySelector(".wrapper"),s=document.querySelector(".toggle-scroll"),o=document.querySelector(".page");let n=document.querySelectorAll(".screen");const a=o.querySelector(".page__wrapper"),i=document.querySelectorAll(".screen__content");let l=null,d=0,c=!0,u=!1,m=!1;const p=document.querySelector(".subslider");let y=!0,_=0;const f=(e=!1)=>{const t=document.querySelector(".mobile_main_menu"),r=document.querySelector(".main_menu-burger"),s=document.querySelector(".main_menu-burger-close");r&&(r.addEventListener("click",(()=>{t.classList.remove("_hide_mobile_menu")})),e||s.addEventListener("click",(()=>{console.log("2"),t.classList.add("_hide_mobile_menu")})))},h=document.querySelector(".main_menu"),v=document.querySelectorAll(".inslider");let b=!1;const L=[],g=document.querySelectorAll(".mini-swiper"),w=document.querySelectorAll(".mobile_mini_slider"),S=document.querySelectorAll(".more-info");let E=0;const q=document.querySelector(".menu__wrapper"),A=document.querySelectorAll(".menu__link"),T=document.querySelector(".nav-back-button");let x=0;const k=document.querySelectorAll(".more-info-next__button"),M=document.querySelector(".footer");let O;document.querySelector(".subslider-mobile");const D=document.querySelectorAll(".mobile-inslider"),H=Array.from(D).map((()=>!1)),P=document.querySelectorAll(".more_info_mobile"),C=(e,t)=>{t.classList.contains("_free")&&(t.classList.remove("_free"),e.params.freeMode.enabled=!1);for(let r=0;r<e.slides.length-1;r++){const s=e.slides[r].querySelector(".screen__content");if(s&&s.offsetHeight>window.innerHeight){t.classList.add("_free"),e.params.freeMode.enabled=!0;break}}},I=e=>{let r=-(100*Math.round(window.innerHeight/100)+100),o=r/7*-1;if(y&&!b)if(1===_&&r<p.offsetTop&&p.offsetTop<=0&&e.deltaY>0){let n=r/7*4;if(p.offsetTop<=n)return p.style.transition="all 0.5s",p.style.top=r+"px",s.style.transition="all 0.5s",s.style.top=r+"px",i[1].classList.remove("_hide_page"),t&&q.classList.remove("_hide_menu"),void e.preventDefault();p.classList.remove("_suslider-top-0"),s.classList.remove("_suslider-top-0"),s.style.display="block",p.style.top=p.offsetTop-o+"px",s.style.top=s.offsetTop-o+"px"}else 1===_&&p.offsetTop<=-o&&e.deltaY<0&&(2*-o<=p.offsetTop&&p.offsetTop<=-o?(p.style.top="0px",s.style.top="0px",p.classList.add("_suslider-top-0"),s.classList.add("_suslider-top-0"),setTimeout((()=>{s.style.display="none",screen.classList.add("_hide_page"),q.classList.add("_hide_menu"),e.preventDefault()}),500)):(p.style.transition="none",s.style.transition="none",s.style.display="block"),p.style.top=p.offsetTop+o+"px",s.style.top=s.offsetTop+o+"px");const n=h.querySelectorAll("a");0===_?Array.from(n).forEach((e=>e.classList.remove("main_menu_in-down"))):Array.from(n).forEach((e=>e.classList.add("main_menu_in-down"))),r>=p.offsetTop&&!b&&c&&!u||t?l.enable():l.disable()},N=e=>{const t=e.mainSlider,r=e.inslider,s=e.insliderElem,o=e.moreInfoButton,n=e.index,a=s.querySelector(".inslider__wrapper"),i=o.querySelector(".more-info__title"),l=o.querySelectorAll(".more-info__button");let d=0;const c=(u=l[1],function(e){b||((e,t)=>{t.style.position="absolute",t.style.marginTop="0px";let s=e.offsetX-t.offsetWidth/2,o=e.offsetY-t.offsetHeight/2;var n;t.style.left=s+"px",t.style.top=o+"px",t.classList.remove("_hide-more-info__button"),(n=s)<=0||o<=0?(i.classList.remove("_hide-more-info__title"),l[0].classList.remove("_hide-more-info__button"),l[1].classList.add("_hide-more-info__button")):(i.classList.add("_hide-more-info__title"),l[0].classList.add("_hide-more-info__button")),n>0&&(d=-Math.trunc(.092*n),r.translateTo(d,300))})(e,u)});var u;o.addEventListener("mouseover",(()=>{o.addEventListener("mousemove",c)})),o.addEventListener("mouseout",(()=>{b||r.translateTo(0,500),o.removeEventListener("mousemove",c)})),o.addEventListener("click",(()=>{h.classList.add("_hide_main_menu"),x=n,b=!0,o.classList.add("more-info-hidden"),d=0,t.disable(),r.enable();let e=window.innerWidth/6*5;const i=s.querySelectorAll(".i-s_screen"),l=s.querySelector(".i-s_screen:nth-child(2)"),c=B(l,!1);let u=0;i.forEach((e=>{u+=e.clientWidth}));let m=e/u;r.setProgress(m,1e3),T.classList.remove("nav-back-button-hidden"),setTimeout((()=>{a.classList.add("inslider__wrapper-open"),B(l,c)}),500)}))},W=(e,r,s=!1)=>{t?Array.from(n).forEach((e=>e.style.flex="1 0 20%")):Array.from(n).forEach((e=>e.style.flex="1 0 100%"));const o=e.querySelector(".mobile-inslider_all_1").clientHeight,a=e.querySelectorAll(".mobile-inslider-slide");let i=0;a.forEach((e=>{i+=e.clientHeight})),s||(e.style.transition="all 0.5s",setTimeout((()=>{e.style.transition="none"}),500)),e.style.height=r?`${o+i}px`:`${o}px`};window.addEventListener("load",(()=>{setTimeout((()=>{new Typed(".typed-text-1",{strings:["преумножить уровень доходов","перейти на новый уровень сервиса","достичь успеха в развитии бизнеса"],typeSpeed:50,backSpeed:30,loop:!0})}),300),setTimeout((()=>{new Typed(".typed-text-2",{strings:["удобно","легко","надежно","выгодно"],typeSpeed:80,backSpeed:50,loop:!0})}),300)}));const F=(e,t=null)=>{const r=e.querySelectorAll("*"),s=[];if(!t)return r.forEach((e=>{const t=e.attributes,r=[];for(let s=0;s<t.length;s++)t[s].name.startsWith("data-swiper-parallax")&&(r.push({name:t[s].name,value:t[s].value}),e.setAttribute(t[s].name,0));r.length>0&&s.push({element:e,attributes:r})})),s;t.forEach((e=>{e.attributes.forEach((t=>{e.element.setAttribute(t.name,t.value)}))}))};function B(e,t=!1){if(null===t)return;const r=e.querySelectorAll("*"),s=[];if(!t)return r.forEach((e=>{const t=e.attributes;for(let r=0;r<t.length;r++)t[r].name.startsWith("data-swiper-parallax")&&(e.classList.add("toggle-parallax-transition"),s.push(e))})),0===s.length?null:s;t.forEach((e=>{e.classList.remove("toggle-parallax-transition")}))}const R=(e,t=null)=>{const r=e.querySelectorAll("*"),s=[];if(null===t)return r.forEach((e=>{const t=e.attributes,r=[];for(let s=0;s<t.length;s++)t[s].name.startsWith("data-swiper-parallax")&&(r.push({name:t[s].name,value:t[s].value}),e.removeAttribute(t[s].name),e.style.opacity="1",e.style.transform="translate3d(0px, 0%, 0px)");r.length>0&&s.push({element:e,attributes:r})})),s;t&&t.forEach((e=>{e.attributes.forEach((t=>{e.element.setAttribute(t.name,t.value)}))}))},Y=e=>{if(q.classList.add("_hide_menu"),p.style.display="none",void 0!==O){const e=document.createElement("div");e.classList.add(O.classes[0],O.classes[1]),e.innerHTML=O.innerHTML,a.prepend(e),n=Array.from(n),n.unshift(e),O=void 0,f(!0)}e.params.freeMode.enabled=!0,e.params.parallax.enabled=!1;const t=R(o);return Array.from(v).forEach((e=>{e.classList.add("hidden-inslider")})),Array.from(D).forEach((e=>{e.classList.remove("hidden-mobile-inslider")})),t},j=(e,t)=>{q.classList.remove("_hide_menu"),p.style.display="block",void 0===O&&(O={innerHTML:n[0].innerHTML,classes:n[0].classList},n[0].remove(),n=Array.from(n).slice(1)),e.params.freeMode.enabled=!1,e.params.parallax.enabled=!0,R(o,t),Array.from(v).forEach((e=>{e.classList.remove("hidden-inslider")})),Array.from(D).forEach((e=>{e.classList.add("hidden-mobile-inslider")}))},z=document.querySelectorAll(".menu__link"),V=()=>{let e=document.querySelector(".menu__link._active");e&&e.classList.remove("_active")};function $(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function X(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((r=>{void 0===e[r]?e[r]=t[r]:$(t[r])&&$(e[r])&&Object.keys(t[r]).length>0&&X(e[r],t[r])}))}const G={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function J(){const e="undefined"!=typeof document?document:{};return X(e,G),e}function K(e){let t,r,{swiper:s,extendParams:o,on:n,emit:a,params:i}=e;s.autoplay={running:!1,paused:!1,timeLeft:0},o({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,d,c,u,m,p,y,_,f=i&&i.autoplay?i.autoplay.delay:3e3,h=i&&i.autoplay?i.autoplay.delay:3e3,v=(new Date).getTime();function b(e){s&&!s.destroyed&&s.wrapperEl&&e.target===s.wrapperEl&&(s.wrapperEl.removeEventListener("transitionend",b),_||q())}const L=()=>{if(s.destroyed||!s.autoplay.running)return;s.autoplay.paused?d=!0:d&&(h=l,d=!1);const e=s.autoplay.paused?l:v+h-(new Date).getTime();s.autoplay.timeLeft=e,a("autoplayTimeLeft",e,e/f),r=requestAnimationFrame((()=>{L()}))},g=e=>{if(s.destroyed||!s.autoplay.running)return;cancelAnimationFrame(r),L();let o=void 0===e?s.params.autoplay.delay:e;f=s.params.autoplay.delay,h=s.params.autoplay.delay;const n=(()=>{let e;if(e=s.virtual&&s.params.virtual.enabled?s.slides.filter((e=>e.classList.contains("swiper-slide-active")))[0]:s.slides[s.activeIndex],e)return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(n)&&n>0&&void 0===e&&(o=n,f=n,h=n),l=o;const i=s.params.speed,d=()=>{s&&!s.destroyed&&(s.params.autoplay.reverseDirection?!s.isBeginning||s.params.loop||s.params.rewind?(s.slidePrev(i,!0,!0),a("autoplay")):s.params.autoplay.stopOnLastSlide||(s.slideTo(s.slides.length-1,i,!0,!0),a("autoplay")):!s.isEnd||s.params.loop||s.params.rewind?(s.slideNext(i,!0,!0),a("autoplay")):s.params.autoplay.stopOnLastSlide||(s.slideTo(0,i,!0,!0),a("autoplay")),s.params.cssMode&&(v=(new Date).getTime(),requestAnimationFrame((()=>{g()}))))};return o>0?(clearTimeout(t),t=setTimeout((()=>{d()}),o)):requestAnimationFrame((()=>{d()})),o},w=()=>{v=(new Date).getTime(),s.autoplay.running=!0,g(),a("autoplayStart")},S=()=>{s.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(r),a("autoplayStop")},E=(e,r)=>{if(s.destroyed||!s.autoplay.running)return;clearTimeout(t),e||(y=!0);const o=()=>{a("autoplayPause"),s.params.autoplay.waitForTransition?s.wrapperEl.addEventListener("transitionend",b):q()};if(s.autoplay.paused=!0,r)return p&&(l=s.params.autoplay.delay),p=!1,void o();const n=l||s.params.autoplay.delay;l=n-((new Date).getTime()-v),s.isEnd&&l<0&&!s.params.loop||(l<0&&(l=0),o())},q=()=>{s.isEnd&&l<0&&!s.params.loop||s.destroyed||!s.autoplay.running||(v=(new Date).getTime(),y?(y=!1,g(l)):g(),s.autoplay.paused=!1,a("autoplayResume"))},A=()=>{if(s.destroyed||!s.autoplay.running)return;const e=J();"hidden"===e.visibilityState&&(y=!0,E(!0)),"visible"===e.visibilityState&&q()},T=e=>{"mouse"===e.pointerType&&(y=!0,_=!0,s.animating||s.autoplay.paused||E(!0))},x=e=>{"mouse"===e.pointerType&&(_=!1,s.autoplay.paused&&q())};n("init",(()=>{s.params.autoplay.enabled&&(s.params.autoplay.pauseOnMouseEnter&&(s.el.addEventListener("pointerenter",T),s.el.addEventListener("pointerleave",x)),J().addEventListener("visibilitychange",A),w())})),n("destroy",(()=>{s.el.removeEventListener("pointerenter",T),s.el.removeEventListener("pointerleave",x),J().removeEventListener("visibilitychange",A),s.autoplay.running&&S()})),n("_freeModeStaticRelease",(()=>{(u||y)&&q()})),n("_freeModeNoMomentumRelease",(()=>{s.params.autoplay.disableOnInteraction?S():E(!0,!0)})),n("beforeTransitionStart",((e,t,r)=>{!s.destroyed&&s.autoplay.running&&(r||!s.params.autoplay.disableOnInteraction?E(!0,!0):S())})),n("sliderFirstMove",(()=>{!s.destroyed&&s.autoplay.running&&(s.params.autoplay.disableOnInteraction?S():(c=!0,u=!1,y=!1,m=setTimeout((()=>{y=!0,u=!0,E(!0)}),200)))})),n("touchEnd",(()=>{if(!s.destroyed&&s.autoplay.running&&c){if(clearTimeout(m),clearTimeout(t),s.params.autoplay.disableOnInteraction)return u=!1,void(c=!1);u&&s.params.cssMode&&q(),u=!1,c=!1}})),n("slideChange",(()=>{!s.destroyed&&s.autoplay.running&&(p=!0)})),Object.assign(s.autoplay,{start:w,stop:S,pause:E,resume:q})}q.addEventListener("mouseover",(()=>{q.classList.add("nav-menu_show-bg"),A.forEach((e=>e.classList.add("nav-menu_show-link")))})),q.addEventListener("mouseout",(()=>{q.classList.remove("nav-menu_show-bg"),A.forEach((e=>e.classList.remove("nav-menu_show-link")))})),(()=>{document.querySelectorAll(".screen__content");let e=null;const n=new Swiper(".page",{wrapperClass:"page__wrapper",slideClass:"page__screen",direction:"vertical",slidesPerView:"auto",parallax:!0,mousewheel:{sensitivity:.3},watchOverflow:!0,speed:900,observer:!0,observeParents:!0,observeSlideChildren:!0,updateOnWindowResize:!0,init:!1,on:{init:()=>{t=window.innerWidth<=850,(e=>{if(z.length>0){z[e.realIndex].classList.add("_active");for(let t=0;t<z.length;t++){const r=z[t];r.addEventListener("click",(s=>{if(s.preventDefault(),h.classList.remove("_hide_main_menu"),!e.enabled){const t=F(v[x]);E=0,L[x].disable(),e.enable(),setTimeout((()=>{v[x].querySelector(".inslider__wrapper").classList.remove("inslider__wrapper-open");const e=S[x].querySelector(".more-info__title"),r=S[x].querySelectorAll(".more-info__button");L[x].setProgress(0,0),T.classList.add("nav-back-button-hidden"),S[x].classList.remove("more-info-hidden"),e.classList.remove("_hide-more-info__title"),r[0].classList.remove("_hide-more-info__button"),r[1].classList.add("_hide-more-info__button"),b=!1,F(v[x],t)}),1e3)}V(),e.slideTo(t,800),r.classList.add("_active")}))}}})(n),C(n,r),e=(()=>{const e=new Swiper(".subslider",{wrapperClass:"subslider__wrapper",slideClass:"subslider__screen",direction:"vertical",slidesPerView:"auto",parallax:!0,mousewheel:{sensitivity:1},watchOverflow:!0,speed:900,observer:!0,observeParents:!0,observeSlideChildren:!0,freeMode:{enabled:!0},on:{progress:(e,t)=>{_=t}}});return s.addEventListener("wheel",(e=>{e.preventDefault()}),{passive:!1}),e})(),(e=>{T.addEventListener("click",(()=>{h.classList.remove("_hide_main_menu");const t=v[x].querySelector(".inslider__wrapper"),r=S[x].querySelector(".more-info__title"),s=S[x].querySelectorAll(".more-info__button");t.classList.remove("inslider__wrapper-open"),L[x].disable(),L[x].setProgress(0,800),setTimeout((()=>{T.classList.add("nav-back-button-hidden"),S[x].classList.remove("more-info-hidden"),r.classList.remove("_hide-more-info__title"),s[0].classList.remove("_hide-more-info__button"),s[1].classList.add("_hide-more-info__button"),e.enable(),b=!1}),1e3)}))})(n),g&&Array.from(g).forEach((e=>{return t="."+e.classList[1],void new Swiper(t,{direction:"vertical",slidesPerView:"auto",mousewheel:!1,speed:900,modules:[K],autoplay:{delay:500},loop:!0});var t})),w&&Array.from(w).forEach((e=>{return t="."+e.classList[1],void new Swiper(t,{direction:"horizontal",slidesPerView:"auto",speed:900});var t})),(e=>{Array.from(k).forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const r=F(v[x]);E=0,L[x].disable(),e.enable(),setTimeout((()=>{v[x].querySelector(".inslider__wrapper").classList.remove("inslider__wrapper-open");const e=S[x].querySelector(".more-info__title"),t=S[x].querySelectorAll(".more-info__button");L[x].setProgress(0,0),T.classList.add("nav-back-button-hidden"),S[x].classList.remove("more-info-hidden"),e.classList.remove("_hide-more-info__title"),t[0].classList.remove("_hide-more-info__button"),t[1].classList.add("_hide-more-info__button"),b=!1,F(v[x],r)}),1e3),e.slideNext(800)}))}))})(n),(e=>{document.addEventListener("wheel",(t=>{const r=o.querySelectorAll(".screen__content")[e.slides.length-1],s=o.querySelectorAll(".screen")[e.slides.length-1],n=r.getBoundingClientRect().bottom<=window.innerHeight;if(t.deltaY>0&&n&&c){q.classList.add("_hide_menu"),u=!0,e.disable();let t=s.clientHeight-o.clientHeight;const r=s.clientHeight-window.innerHeight+M.clientHeight-t;s.style.top=-t+"px",o.style.overflow="visible",o.style.top=-r+"px"}else t.deltaY<0&&n&&c&&(o.style.top="0px",q.classList.remove("_hide_menu"),setTimeout((()=>{o.style.overflow="hidden",u=!1,e.enable()}),500));e.realIndex===e.slides.length-2?(s.style.transition="all 0.3s",s.style.top="0px"):s.style.transition="none"}))})(n),r.classList.add("_loaded"),Array.from(v).forEach(((e,t)=>{L.push(((e,t)=>{const r=new Swiper(".inslider_"+t,{wrapperClass:"inslider__wrapper",slideClass:"inslider__screen",direction:"horizontal",slidesPerView:"auto",parallax:!0,mousewheel:{thresholdTime:5,thresholdDelta:5,releaseOnEdges:!0,sensitivity:2},watchOverflow:!0,speed:900,observer:!0,observeSlideChildren:!0,freeMode:{enabled:!0},on:{slideChange:()=>{},progress:(e,t)=>{E=t},scroll:(r,s)=>{if(0===E&&b&&s.deltaY<0){h.classList.remove("_hide_main_menu");const s=v[t].querySelector(".inslider__wrapper"),o=S[t].querySelector(".more-info__title"),n=S[t].querySelectorAll(".more-info__button");setTimeout((()=>{T.classList.add("nav-back-button-hidden"),e.enable(),r.disable(),s.classList.remove("inslider__wrapper-open"),S[t].classList.remove("more-info-hidden"),o.classList.remove("_hide-more-info__title"),n[0].classList.remove("_hide-more-info__button"),n[1].classList.add("_hide-more-info__button"),b=!1}),800)}}}});return r.disable(),r})(n,t))})),Array.from(S).forEach(((e,t)=>{const r={mainSlider:n,inslider:L[t],insliderElem:v[t],moreInfoButton:e,index:t};N(r)})),Array.from(P).forEach((e=>e.addEventListener("click",(()=>{let t=e.querySelector(".more_info_mobile_button").querySelectorAll("div");t[0].classList.toggle("_active-more_info_mobile"),t[1].classList.toggle("_active-more_info_mobile")})))),(e=>{const t=document.querySelector(".geography-cities");t&&(t.addEventListener("mouseover",(t=>{t.preventDefault(),c=!1,e.disable()})),t.addEventListener("mouseout",(t=>{c=!0,u||e.enable()})))})(n),t?Y(n):(j(n,m),r.addEventListener("wheel",I,{passive:!1})),Array.from(D).splice(0,D.length-1).forEach(((e,t)=>{((e,t,r=!1)=>{r&&W(e,H[t]),Array.from(P)[t].addEventListener("click",(()=>{H[t]=!H[t],W(e,H[t])}))})(e,t,!0)}))},slideChange:()=>{t||(V(),z[n.realIndex].classList.add("_active"),Array.from(S).forEach(((e,t)=>{const r=e.querySelector(".more-info__title"),s=e.querySelectorAll(".more-info__button");r.classList.remove("_hide-more-info__title"),s[0].classList.remove("_hide-more-info__button"),s[1].classList.add("_hide-more-info__button")})))},resize:()=>{if(C(n,r),window.innerWidth<=850){t=!0;let e=Y(n);m||(m=e,r.removeEventListener("wheel",I,{passive:!1}),n.enable())}else t=!1,j(n,m),m=!1,r.addEventListener("wheel",I,{passive:!1});Array.from(D).splice(0,D.length-1).forEach(((e,t)=>{W(e,H[t],!0)}))},progress:(e,t)=>{d=t,0===t&&e.params.freeMode.enabled?setTimeout((()=>y=!0),100):0!==t&&e.params.freeMode.enabled&&(y=!1),0===e.progress?setTimeout((()=>y=!0),800):y=!1}}});n.init(),l=n})(),f(),"/"===e&&(()=>{const e=document.querySelector(".geography-map"),t=document.querySelector(".geography-cities").querySelectorAll("p");Array.from(t).forEach((r=>{r.addEventListener("click",(r=>{r.preventDefault();const s=r.target.id;e.style.background=`url('../../img/map/${s}.png')`,e.style.backgroundSize="contain",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center right",Array.from(t).forEach((e=>{e.classList.remove("clicked-geography-city")})),r.target.classList.add("clicked-geography-city")}))}))})()}();