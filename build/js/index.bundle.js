!function(){"use strict";let e=!0;const s=document.querySelectorAll(".inslider");let t=!1;const o=[],r=document.querySelectorAll(".more-info"),i=[],l=document.querySelector(".menu__wrapper"),n=document.querySelectorAll(".menu__link"),a=document.querySelector(".nav-back-button");let d=0;const c=document.querySelectorAll(".menu__link"),_=()=>{let e=document.querySelector(".menu__link._active");e&&e.classList.remove("_active")},u=(e,s)=>{s.classList.contains("_free")&&(s.classList.remove("_free"),e.params.freeMode.enabled=!1);for(let t=0;t<e.slides.length;t++){const o=e.slides[t].querySelector(".screen__content");if(o&&o.offsetHeight>window.innerHeight){s.classList.add("_free"),e.params.freeMode.enabled=!0;break}}},m=e=>{const s=e.mainSlider,o=e.inslider,r=e.insliderElem,i=e.moreInfoButton,l=e.index,n=r.querySelector(".inslider__wrapper"),c=i.querySelector(".more-info__title"),_=i.querySelectorAll(".more-info__button");let u=0;const m=(p=_[1],function(e){t||((e,s)=>{s.style.position="absolute",s.style.marginTop="0px";let t=e.offsetX-s.offsetWidth/2,r=e.offsetY-s.offsetHeight/2;var i;s.style.left=t+"px",s.style.top=r+"px",s.classList.remove("_hide-more-info__button"),(i=t)<=0||r<=0?(c.classList.remove("_hide-more-info__title"),_[0].classList.remove("_hide-more-info__button"),_[1].classList.add("_hide-more-info__button")):(c.classList.add("_hide-more-info__title"),_[0].classList.add("_hide-more-info__button")),i>0&&(u=-Math.trunc(.092*i),o.setProgress(u,300))})(e,p)});var p;i.addEventListener("mouseover",(()=>{i.addEventListener("mousemove",m)})),i.addEventListener("mouseout",(()=>{t||o.translateTo(0,500),i.removeEventListener("mousemove",m)})),i.addEventListener("click",(()=>{d=l,t=!0,i.classList.add("more-info-hidden"),u=0,s.disable(),o.enable();let e=window.innerWidth/-6*5;o.translateTo(e,1e3),a.classList.remove("nav-back-button-hidden"),setTimeout((()=>{n.classList.add("inslider__wrapper-open")}),500)}))};(()=>{const n=document.querySelector(".wrapper"),p=document.querySelectorAll(".screen__content"),f=new Swiper(".page",{wrapperClass:"page__wrapper",slideClass:"page__screen",direction:"vertical",slidesPerView:"auto",parallax:!0,mousewheel:{sensitivity:.3},watchOverflow:!0,speed:900,observer:!0,observeParents:!0,observeSlideChildren:!0,init:!1,on:{init:()=>{(e=>{if(c.length>0){c[e.realIndex].classList.add("_active");for(let i=0;i<c.length;i++){const l=c[i];l.addEventListener("click",(n=>{n.preventDefault(),e.enabled||(o[d].disable(),e.enable(),setTimeout((()=>{s[d].querySelector(".inslider__wrapper");const e=r[d].querySelector(".more-info__title"),i=r[d].querySelectorAll(".more-info__button");o[d].setProgress(0,0),a.classList.add("nav-back-button-hidden"),r[d].classList.remove("more-info-hidden"),e.classList.remove("_hide-more-info__title"),i[0].classList.remove("_hide-more-info__button"),i[1].classList.add("_hide-more-info__button"),t=!1}),800)),_(),e.slideTo(i,800),l.classList.add("_active")}))}}})(f),u(f,n),((s,o)=>{const r=document.querySelector(".wrapper"),i=document.querySelector(".subslider"),n=document.querySelector(".toggle-scroll");let a=0;new Swiper(".subslider",{wrapperClass:"subslider__wrapper",slideClass:"subslider__screen",direction:"vertical",slidesPerView:"auto",parallax:!0,mousewheel:{sensitivity:1},watchOverflow:!0,speed:900,observer:!0,observeParents:!0,observeSlideChildren:!0,freeMode:{enabled:!0},on:{slideChange:()=>{},progress:(e,s)=>{a=s}}}),n.addEventListener("wheel",(e=>{e.preventDefault()}),{passive:!1}),r.addEventListener("wheel",(r=>{let d=-(100*Math.round(window.innerHeight/100)+100),c=d/7*-1;if(e&&!t)if(1===a&&d<i.offsetTop&&i.offsetTop<=0&&r.deltaY>0){let e=d/7*4,s=d/7*2;if(i.offsetTop<=e)return i.style.transition="all 0.5s",i.style.top=d+"px",n.style.transition="all 0.5s",n.style.top=d+"px",void r.preventDefault();i.offsetTop<=s&&(o.classList.remove("_hide_page"),l.classList.remove("_hide_menu")),i.classList.remove("_suslider-top-0"),n.classList.remove("_suslider-top-0"),n.style.display="block",i.style.top=i.offsetTop-c+"px",n.style.top=n.offsetTop-c+"px"}else 1===a&&i.offsetTop<=-c&&r.deltaY<0&&(2*-c<=i.offsetTop&&i.offsetTop<=-c?(i.style.top="0px",n.style.top="0px",i.classList.add("_suslider-top-0"),n.classList.add("_suslider-top-0"),setTimeout((()=>{n.style.display="none",o.classList.add("_hide_page"),l.classList.add("_hide_menu"),r.preventDefault()}),500)):(i.style.transition="none",n.style.transition="none",n.style.display="block"),i.style.top=i.offsetTop+c+"px",n.style.top=n.offsetTop+c+"px");d>=i.offsetTop&&!t?s.enable():s.disable()}),{passive:!1})})(f,p[0]),(e=>{a.addEventListener("click",(()=>{const i=s[d].querySelector(".inslider__wrapper"),l=r[d].querySelector(".more-info__title"),n=r[d].querySelectorAll(".more-info__button");i.classList.remove("inslider__wrapper-open"),o[d].disable(),o[d].setProgress(0,800),setTimeout((()=>{a.classList.add("nav-back-button-hidden"),r[d].classList.remove("more-info-hidden"),l.classList.remove("_hide-more-info__title"),n[0].classList.remove("_hide-more-info__button"),n[1].classList.add("_hide-more-info__button"),e.enable(),t=!1}),1e3)}))})(f),n.classList.add("_loaded"),Array.from(s).forEach(((e,l)=>{i.push(0),o.push(((e,o)=>{const l=new Swiper(".inslider_"+o,{wrapperClass:"inslider__wrapper",slideClass:"inslider__screen",direction:"horizontal",slidesPerView:"auto",parallax:!0,mousewheel:{releaseOnEdges:!0,sensitivity:3},watchOverflow:!0,speed:900,observer:!0,observeSlideChildren:!0,freeMode:{enabled:!0},on:{slideChange:()=>{},progress:(l,n)=>{if(console.log(),0===n&&0!==i[o]&&t){const i=s[o].querySelector(".inslider__wrapper"),n=r[o].querySelector(".more-info__title"),d=r[o].querySelectorAll(".more-info__button");setTimeout((()=>{a.classList.add("nav-back-button-hidden"),e.enable(),l.disable(),i.classList.remove("inslider__wrapper-open"),r[o].classList.remove("more-info-hidden"),n.classList.remove("_hide-more-info__title"),d[0].classList.remove("_hide-more-info__button"),d[1].classList.add("_hide-more-info__button"),t=!1}),800)}i[o]=n}}});return l.disable(),l})(f,l))})),Array.from(r).forEach(((e,t)=>{const r={mainSlider:f,inslider:o[t],insliderElem:s[t],moreInfoButton:e,index:t};m(r)}))},slideChange:()=>{_(),c[f.realIndex].classList.add("_active"),Array.from(r).forEach(((e,s)=>{const t=e.querySelector(".more-info__title"),o=e.querySelectorAll(".more-info__button");t.classList.remove("_hide-more-info__title"),o[0].classList.remove("_hide-more-info__button"),o[1].classList.add("_hide-more-info__button")}))},resize:()=>{u(f,n)},progress:(s,t)=>{0===t&&s.params.freeMode.enabled?setTimeout((()=>e=!0),100):0!==t&&s.params.freeMode.enabled&&(e=!1),0===s.progress?setTimeout((()=>e=!0),800):e=!1},slidePrevTransitionStart:e=>{}}});f.init()})(),(()=>{const e=document.querySelector(".mobile_main_menu"),s=document.querySelector(".main_menu-burger"),t=document.querySelector(".main_menu-burger-close");s.addEventListener("click",(()=>{e.classList.remove("_hide_mobile_menu")})),t.addEventListener("click",(()=>{e.classList.add("_hide_mobile_menu")}))})(),l.addEventListener("mouseover",(()=>{l.classList.add("nav-menu_show-bg"),n.forEach((e=>e.classList.add("nav-menu_show-link")))})),l.addEventListener("mouseout",(()=>{l.classList.remove("nav-menu_show-bg"),n.forEach((e=>e.classList.remove("nav-menu_show-link")))}))}();